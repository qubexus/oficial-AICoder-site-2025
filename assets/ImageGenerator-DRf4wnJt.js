import{r as s,j as e}from"./index-BxHMZ0GY.js";import{G as C}from"./index-DbVuw1rr.js";const E=()=>e.jsx("div",{className:"w-full aspect-square bg-slate-800/80 rounded-lg animate-pulse"}),M=()=>{const[o,y]=s.useState(""),[h,p]=s.useState([]),[i,x]=s.useState(!1),[f,c]=s.useState(null),[l,w]=s.useState(null),[b,v]=s.useState(!1),u=s.useRef(null),g=s.useRef(null),k=async()=>{if(!o.trim()){c("Please enter a descriptive prompt.");return}x(!0),c(null),p([]);try{const a=await new C({apiKey:void 0}).models.generateImages({model:"imagen-4.0-generate-001",prompt:o,config:{numberOfImages:4,outputMimeType:"image/jpeg",aspectRatio:"1:1"}});if(a.generatedImages&&a.generatedImages.length>0){const r=a.generatedImages.map(n=>n.image.imageBytes);p(r)}else c("The model did not return any images. Try a different prompt.")}catch(t){console.error("Error generating images:",t);const a=t instanceof Error?t.message:"An unknown error occurred.";c(`An error occurred while generating images: ${a}`)}finally{x(!1)}},j=s.useCallback((t,a)=>{const r=document.createElement("a");r.href=`data:image/jpeg;base64,${t}`;const n=o.slice(0,30).replace(/[^a-z0-9]/gi,"_").toLowerCase();r.download=`aicoder_${n||"generated"}_${a+1}.jpeg`,document.body.appendChild(r),r.click(),document.body.removeChild(r)},[o]),N=(t,a)=>{g.current=document.activeElement,w({src:t,index:a}),v(!1)},m=s.useCallback(()=>{v(!0),setTimeout(()=>{w(null)},300)},[]);return s.useEffect(()=>{if(!l||!u.current){document.body.style.overflow="unset";return}document.body.style.overflow="hidden";const t=u.current.querySelectorAll("a[href], button:not([disabled])"),a=t[0],r=t[t.length-1];a&&a.focus();const n=d=>{d.key==="Escape"&&m(),d.key==="Tab"&&(d.shiftKey?document.activeElement===a&&(r.focus(),d.preventDefault()):document.activeElement===r&&(a.focus(),d.preventDefault()))};return document.addEventListener("keydown",n),()=>{document.removeEventListener("keydown",n),document.body.style.overflow="unset",g.current&&g.current.focus()}},[l,m]),e.jsx("main",{className:"pt-24 sm:pt-28 xl:pt-32 pb-12",children:e.jsxs("div",{className:"content-wrapper",children:[e.jsxs("div",{className:"text-center max-w-3xl mx-auto",children:[e.jsx("h1",{className:"text-4xl sm:text-5xl font-semibold text-[#E2E8F0]",children:"AI Image Generator"}),e.jsx("p",{className:"mt-4 text-lg text-[#94A3B8]",children:"Bring your ideas to life. Describe any image you can imagine, and our AI will create it for you in seconds."})]}),e.jsx("div",{className:"mt-12 max-w-3xl mx-auto",children:e.jsxs("div",{className:"bg-slate-900/70 backdrop-blur-xl p-6 rounded-xl border border-slate-700 shadow-[inset_0_1px_0_0_rgba(148,163,184,0.1)] shadow-2xl",children:[e.jsx("textarea",{value:o,onChange:t=>y(t.target.value),placeholder:"e.g., A cinematic photo of a robot reading a book in a futuristic library, neon lights, detailed.",className:"w-full h-24 bg-[#1E293B] text-[#E2E8F0] placeholder-[#94A3B8] rounded-lg p-4 focus:ring-2 focus:ring-[#F97316] focus:outline-none transition duration-300 resize-none",disabled:i,"aria-label":"Image generation prompt"}),e.jsx("div",{className:"mt-4 flex justify-center",children:e.jsxs("button",{onClick:k,disabled:i,className:"relative inline-flex items-center justify-center px-8 py-3 bg-[#F97316] text-[#E2E8F0] font-bold rounded-lg group transition-all duration-300 ease-in-out hover:shadow-lg hover:shadow-[#F97316]/40 disabled:opacity-50 disabled:cursor-not-allowed transform hover:-translate-y-1 hover:brightness-110",children:[i&&e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("span",{className:"relative",children:i?"Generating...":"Generate Images"})]})})]})}),f&&e.jsxs("div",{role:"alert",className:"mt-8 max-w-3xl mx-auto text-center bg-red-900/50 border border-red-500/50 text-red-300 px-4 py-3 rounded-lg",children:[e.jsx("p",{className:"font-semibold",children:"Error"}),e.jsx("p",{className:"text-sm",children:f})]}),e.jsx("div",{className:"mt-12",children:i?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(4)].map((t,a)=>e.jsx(E,{},a))}):h.length>0?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:h.map((t,a)=>e.jsxs("div",{className:"group relative aspect-square rounded-lg overflow-hidden border-2 border-slate-700 shadow-lg",children:[e.jsx("img",{src:`data:image/jpeg;base64,${t}`,alt:`AI generated image for prompt: ${o}`,className:"w-full h-full object-cover transition-transform duration-500 ease-in-out group-hover:scale-105"}),e.jsxs("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center gap-4",children:[e.jsx("button",{onClick:()=>N(t,a),className:"p-3 bg-slate-800/80 rounded-full text-white hover:bg-[#F97316] transition-colors","aria-label":"View larger image",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5v-4m0 0h-4m4 0l-5-5"})})}),e.jsx("button",{onClick:()=>j(t,a),className:"p-3 bg-slate-800/80 rounded-full text-white hover:bg-[#F97316] transition-colors","aria-label":"Download image",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})})})]})]},a))}):e.jsxs("div",{className:"text-center text-slate-500 py-16 border-2 border-dashed border-slate-700 rounded-lg",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-auto h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e.jsx("p",{className:"mt-4 font-semibold",children:"Your generated images will appear here"})]})}),l&&e.jsx("div",{className:`fixed inset-0 bg-slate-900/80 backdrop-blur-md flex items-center justify-center z-50 p-4 transition-opacity duration-300 ${b?"animate-out fade-out-0 ease-in":"animate-in fade-in-0 ease-out"}`,onClick:m,role:"dialog","aria-modal":"true",children:e.jsxs("div",{ref:u,className:`relative w-full max-w-4xl max-h-[90vh] transition-all duration-300 ${b?"animate-out fade-out-0 zoom-out-95 ease-in":"animate-in fade-in-0 zoom-in-95 ease-out"}`,onClick:t=>t.stopPropagation(),children:[e.jsx("img",{src:`data:image/jpeg;base64,${l.src}`,alt:`AI generated image for prompt: ${o}`,className:"w-full h-auto max-h-[85vh] object-contain rounded-lg shadow-2xl"}),e.jsxs("div",{className:"absolute -top-4 -right-4 sm:top-2 sm:right-2 flex gap-2",children:[e.jsx("button",{onClick:()=>j(l.src,l.index),className:"p-3 bg-slate-800/80 rounded-full text-white hover:bg-[#F97316] transition-colors","aria-label":"Download image",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})})}),e.jsx("button",{onClick:m,className:"p-3 bg-slate-800/80 rounded-full text-white hover:bg-[#F97316] transition-colors","aria-label":"Close image viewer",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]})})]})})};export{M as default};
